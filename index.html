<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Coin Strategy Game</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>

<style>
  body{
    margin:0;
    min-height:100vh;
    display:flex;
    justify-content:center;
    align-items:center;
    background:linear-gradient(135deg,#020617,#0f172a,#1e293b);
    color:#e5e7eb;
    font-family:system-ui, sans-serif;
  }

  .card{
    background:rgba(2,6,23,0.9);
    width:440px;
    padding:24px;
    border-radius:18px;
    box-shadow:0 0 40px rgba(37,99,235,.4);
    text-align:center;
    animation:pop .5s ease;
  }

  @keyframes pop{
    from{transform:scale(.9);opacity:0}
    to{transform:scale(1);opacity:1}
  }

  h2{
    margin:6px;
    font-size:26px;
    color:#60a5fa;
  }

  .top{
    display:flex;
    justify-content:space-between;
    align-items:center;
    margin-bottom:10px;
  }

  .badge{
    background:#1e293b;
    padding:6px 12px;
    border-radius:999px;
    font-size:14px;
  }

  .coins button{
    margin:6px;
    padding:12px 16px;
    font-size:16px;
    border:none;
    border-radius:10px;
    background:#1e293b;
    color:white;
    cursor:pointer;
    transition:.2s;
    box-shadow:0 0 10px rgba(0,0,0,.5);
  }

  .coins button:hover{
    transform:translateY(-3px) scale(1.05);
    background:#334155;
    box-shadow:0 0 15px #2563eb;
  }

  .picked span{
    background:#22c55e;
    color:black;
    padding:6px 10px;
    margin:4px;
    border-radius:8px;
    display:inline-block;
    animation:pop .2s;
  }

  .btn{
    padding:10px 18px;
    margin:8px;
    border:none;
    border-radius:10px;
    cursor:pointer;
    background:#2563eb;
    color:white;
    font-size:15px;
    transition:.2s;
  }

  .btn:hover{
    background:#1d4ed8;
    transform:scale(1.05);
  }

  .result{
    margin-top:12px;
    font-size:15px;
    line-height:1.5;
  }
</style>
</head>

<body>

<div class="card">
  <div class="top">
    <div class="badge">‚≠ê Score: <span id="score">0</span></div>
    <div class="badge">üéØ Target: <span id="target">---</span></div>
  </div>

  <h2><i class="fa-solid fa-coins"></i> Coin Strategy</h2>
  <p>Pick <b>exactly 3 coins</b> to match the target</p>

  <div class="coins" id="coinBtns"></div>

  <p>Picked:</p>
  <div class="picked" id="picked"></div>

  <p>Sum: <span id="sum">0</span></p>

  <button class="btn" onclick="check()">Check</button>
  <button class="btn" onclick="resetGame()">New Round</button>

  <div class="result" id="result"></div>
</div>

<script>
const coins = [200,100,50,10,9];
const K = 3;

let target = 0;
let picked = [];
let score = 0;

const coinBtns = document.getElementById("coinBtns");
const pickedDiv = document.getElementById("picked");
const sumSpan = document.getElementById("sum");
const resultDiv = document.getElementById("result");
const targetSpan = document.getElementById("target");
const scoreSpan = document.getElementById("score");

coins.forEach(c=>{
  const b=document.createElement("button");
  b.innerHTML=`<i class="fa-solid fa-circle-dollar-to-slot"></i> ${c}`;
  b.onclick=()=>pick(c);
  coinBtns.appendChild(b);
});

function pick(c){
  if(picked.length>=K) return;
  picked.push(c);
  render();
}

function render(){
  pickedDiv.innerHTML="";
  picked.forEach(v=>{
    const s=document.createElement("span");
    s.textContent=v;
    pickedDiv.appendChild(s);
  });
  sumSpan.textContent=picked.reduce((a,b)=>a+b,0);
}

function greedySolve(){
  let rem=target;
  let res=[];
  let sorted=[...coins].sort((a,b)=>b-a);

  for(let i=0;i<K;i++){
    for(let c of sorted){
      if(c<=rem){
        res.push(c);
        rem-=c;
        break;
      }
    }
  }
  return res;
}

function optimalSolve(){
  let best=null;

  function dfs(i, count, sum, path){
    if(count===K){
      if(sum===target) best=[...path];
      return;
    }
    if(i===coins.length || sum>target) return;

    path.push(coins[i]);
    dfs(i, count+1, sum+coins[i], path);
    path.pop();

    dfs(i+1, count, sum, path);
  }

  dfs(0,0,0,[]);
  return best;
}

function randomTarget(){
  let a = coins[Math.floor(Math.random()*coins.length)];
  let b = coins[Math.floor(Math.random()*coins.length)];
  let c = coins[Math.floor(Math.random()*coins.length)];
  return a+b+c;
}

function check(){
  if(picked.length!==K){
    alert("Pick exactly 3 coins!");
    return;
  }

  const userSum = picked.reduce((a,b)=>a+b,0);
  const greedy = greedySolve();
  const greedySum = greedy.reduce((a,b)=>a+b,0);
  const optimal = optimalSolve();

  let msg = `<b>Your Sum:</b> ${userSum}<br>`;
  msg += `<b>Greedy Bot:</b> ${greedy.join(" + ")} = ${greedySum}<br>`;

  if(optimal){
    msg += `<b>Optimal:</b> ${optimal.join(" + ")} = ${target}<br>`;
  }

  if(userSum===target){
    score++;
    msg += "üéâ <b>You Win!</b>";
  } else {
    msg += "‚ùå Missed!";
  }

  scoreSpan.textContent = score;
  resultDiv.innerHTML=msg;
}

function resetGame(){
  picked=[];
  resultDiv.innerHTML="";
  target = randomTarget();
  targetSpan.textContent = target;
  render();
}

resetGame();
</script>

</body>
</html>
